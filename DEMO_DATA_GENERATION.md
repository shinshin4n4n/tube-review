# デモデータ自動生成ガイド

このガイドでは、ポートフォリオ用のデモデータを自動生成する方法を説明します。

## 📋 生成されるデータ

### チャンネル
- **55チャンネル**（各カテゴリ5つ）
- 登録者数: **1万～100万人**の範囲
- 全11カテゴリ網羅

### ユーザー
- **20人のダミーユーザー**
- ランダムなアバター画像付き

### レビュー
- **約200件のレビュー**
- 各チャンネルに3-5件
- 本文: 100-200字程度
- 評価: 主に4-5（ポジティブ多め）

## 🔧 必要な環境変数

`.env.local`に以下が設定されていることを確認してください：

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# YouTube API
YOUTUBE_API_KEY=your_youtube_api_key
```

### 環境変数の取得方法

#### SUPABASE_SERVICE_ROLE_KEY
1. Supabase Dashboard → Settings → API
2. "Service role" の "secret" キーをコピー

#### YOUTUBE_API_KEY
すでに設定済みのはずです

## 🚀 実行方法

### 1. 依存パッケージのインストール（初回のみ）

```bash
npm install
```

### 2. デモデータ生成スクリプトを実行

```bash
npm run generate-demo-data
```

### 3. 実行時間

- **約5-10分**（APIレスポンス時間による）
- 進捗状況がリアルタイムで表示されます

## 📊 実行中の出力例

```
🚀 デモデータ生成を開始します...

👤 ステップ1: ダミーユーザーを作成中...
  ✅ ユウキさん を作成しました
  ✅ サクラさん を作成しました
  ...

✅ 20人のユーザーを作成しました

📺 ステップ2: チャンネルを検索・取得中...

📂 カテゴリ: エンタメ (entertainment)
  🔍 キーワード「エンタメ」で検索中...
    ✅ チャンネル名 (登録者: 50,000人)
    ...
  ✅ エンタメ: 5チャンネル追加

...

✅ 合計 55 チャンネルを追加しました

💬 ステップ3: レビューを生成中...
  📝 チャンネル名: 4件のレビューを生成中...
  ...

✅ 200件のレビューを作成しました

🎉 デモデータの生成が完了しました！

📊 生成されたデータ:
  - ユーザー: 20人
  - チャンネル: 55個
  - レビュー: 200件

✨ アプリでランキングとレビューを確認してください！
```

## ⚠️ 注意事項

### YouTube APIクォータ
- **消費量: 約1,155ユニット**（日次クォータの約12%）
- 内訳:
  - 検索: 100ユニット × 11カテゴリ = 1,100ユニット
  - 詳細取得: 1ユニット × 55チャンネル = 55ユニット

### 重複実行
- スクリプトは重複チェックを行います
- 既存データがある場合は上書きされます
- 安全に再実行可能です

### エラーが発生した場合

#### "環境変数が設定されていません"
→ `.env.local`を確認してください

#### "YouTube API quota exceeded"
→ 翌日まで待つか、Google Cloud Consoleでクォータを確認してください

#### "Supabase error"
→ `SUPABASE_SERVICE_ROLE_KEY`が正しいか確認してください

## 🧹 データのクリーンアップ

デモデータを削除したい場合は、Supabase Dashboard > SQL Editorで以下を実行：

```sql
-- レビューを削除
DELETE FROM reviews WHERE user_id IN (
  SELECT id FROM users WHERE email LIKE '%@demo.example.com'
);

-- ダミーユーザーを削除
DELETE FROM users WHERE email LIKE '%@demo.example.com';

-- チャンネルは実在データなので削除しない（必要に応じて手動削除）
```

## ✅ 確認方法

1. **トップページ**
   - 「今週の人気」セクションにチャンネルが表示される

2. **カテゴリページ**
   - 各カテゴリにチャンネルが表示される

3. **チャンネル詳細ページ**
   - レビューが表示される

4. **ランキングページ**
   - `/ranking` で全体ランキングを確認

## 🎯 ポートフォリオデモのポイント

- ✅ リアルタイムでランキングが更新される
- ✅ 実在チャンネルで信頼性が高い
- ✅ レビュー内容がリアルで自然
- ✅ 多様なユーザーアバター

---

**Happy Demo! 🎉**
